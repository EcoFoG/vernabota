<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function simulates Nsim fully determined communities by
attributing a full botanical names to all trees with a vernacular name that
were not fully determined or for which the BotaSource=Vern, using a
categorical-Dirichlet association Scheme. The reason for replacing trees
with BotaSource=Vern is because is these cases, the botanical name has been
obtained from the vernacular name using the more likely association in the
Guyafor database. As our objective is to assign a botanical name to trees
with only a vernacular name using a probability of association, we don't
want to keep the botanical name when BotaSource=Vern."><title>Simulates Nsim fully determined communities — SimFullCom • vernabota</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simulates Nsim fully determined communities — SimFullCom"><meta property="og:description" content="This function simulates Nsim fully determined communities by
attributing a full botanical names to all trees with a vernacular name that
were not fully determined or for which the BotaSource=Vern, using a
categorical-Dirichlet association Scheme. The reason for replacing trees
with BotaSource=Vern is because is these cases, the botanical name has been
obtained from the vernacular name using the more likely association in the
Guyafor database. As our objective is to assign a botanical name to trees
with only a vernacular name using a probability of association, we don't
want to keep the botanical name when BotaSource=Vern."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">vernabota</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/vernabota.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/compare.html">Comparing Simulation Settings</a>
    <a class="dropdown-item" href="../articles/model.html">Models</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/EcoFoG/vernabota/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Simulates Nsim fully determined communities</h1>
      <small class="dont-index">Source: <a href="https://github.com/EcoFoG/vernabota/blob/HEAD/R/SimFullCom.R" class="external-link"><code>R/SimFullCom.R</code></a></small>
      <div class="d-none name"><code>SimFullCom.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function simulates Nsim fully determined communities by
attributing a full botanical names to all trees with a vernacular name that
were not fully determined or for which the BotaSource=Vern, using a
categorical-Dirichlet association Scheme. The reason for replacing trees
with BotaSource=Vern is because is these cases, the botanical name has been
obtained from the vernacular name using the more likely association in the
Guyafor database. As our objective is to assign a botanical name to trees
with only a vernacular name using a probability of association, we don't
want to keep the botanical name when BotaSource=Vern.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">SimFullCom</span><span class="op">(</span>
  <span class="va">Data2fill</span>,
  DataAsso <span class="op">=</span> <span class="cn">NULL</span>,
  prior <span class="op">=</span> <span class="cn">NULL</span>,
  wp <span class="op">=</span> <span class="fl">0.5</span>,
  <span class="va">NSim</span>,
  eps <span class="op">=</span> <span class="fl">0.01</span>,
  Determ <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>Data2fill</dt>
<dd><p>data.table of the dataset for which the gap filling of
botanical names from vernacular names will be done. This dataset must have
been prepared using the function PrepData.</p></dd>
<dt>DataAsso</dt>
<dd><p>data.table of the dataset that will be used to built the
association matrix, formatted as shown in the vignette. This dataset must
have been prepared using the function PrepData. (Default is NULL: the
dataset Data2fill is used to built the association matrix)</p></dd>
<dt>prior</dt>
<dd><p>data.frame of expert knowledge association used as a prior. This
dataset must have been prepared using the function PrepPrior. (Default is
NULL: no prior information is used)</p></dd>
<dt>wp</dt>
<dd><p>numeric value giving the weighting of the prior information
(Default is 0.5).</p></dd>
<dt>NSim</dt>
<dd><p>positive integer: number of simulated communities that we want to
obtain</p></dd>
<dt>eps</dt>
<dd><p>epsilon: background noise for species not associated with a given
vernacular name. Default is 0.01.</p></dd>
<dt>Determ</dt>
<dd><p>boolean: if TRUE the more likely botanical names are return
when a association vernacular-botanical is performed. If FALSE, the
botanical names are drawn using a categorical-Dirichlet association Scheme.
If NSim i set to 1, a value needs to be provided for Determ. If NSim is set
to more than 1, default is FALSE.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>This function returns a list of NSim data.tables, each one being the
original data with two additional columns:</p><ul><li><p>GensSpCor: The Genus and species after gap filling</p></li>
<li><p>BotaCorCode : the type of correction</p><ul><li><p>fullyDet: tree with a fully determined name =&gt; no correction.</p></li>
<li><p>Det2Genus: identified to the genus =&gt; the corrected name is of the
form Genus-Indet. (so we keep the botanically identified genus name and
say that the species is Indet.)</p></li>
<li><p>Det2Fam: identified to the family =&gt; the corrected name is of the
form Family-Indet. (so we keep the botanically identified Family name
and say that the species is Indet.)</p></li>
<li><p>NoCor: no correction is made =&gt; the corrected name is Indet.-Indet.</p></li>
<li><p>AssoByGenus, AssoByGenusDeterm and AssoByGenusDetermT: a full
identification is given with the method of association with the
vernacular name using a Dirichlet-Categorical scheme (if Determ is set
to FALSE) or with the more likely association (if Determ is set to
TRUE), limiting the possibility to the species of the same genus</p></li>
<li><p>AssoByFam, AssoByFamDeterm and AssoByFamDetermT: a full
identification is given with the method of association with the
vernacular name using a Dirichlet-Categorical scheme described (if
Determ is set to FALSE) or with the more likely association (if Determ
is set to TRUE), limiting the possibility to the species of the same
family</p></li>
<li><p>AssoByVerna, AssoByVerna and AssoByVernaT: full identification is
given with the method of association with the vernacular name using a
Dirichlet-Categorical scheme described (if Determ is set to FALSE) or
with the more likely association (if Determ is set to TRUE)
For the three last cases, if Determ is set to TRUE and there are more than
one species having the maximum likelihood, a random drawn is done between
these species and a T is added at the end of the code (for tie).</p></li>
</ul></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function performs the following steps:</p><ul><li><p>get a data.table containing the matrix of posterior Alpha (using function
CreateAlpha) from prior knowledge in the dataset prior updated with
observation of the dataset DataAsso, using a Dirichlet-Categorical scheme</p></li>
<li><p>get Nsim fully determined community using the function Get1Sim Nsim time</p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Geraldine Derroire, Melaine Aubry-Kientz, Ariane Mirabel, Daniela Krebber, Eric Marcon, Bruno Herault.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer></div>

  

  

  </body></html>

